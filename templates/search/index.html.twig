{% extends 'base.html.twig' %}

{% block title %}Yazoo!{% endblock %}

{% block body %}


<div class="container">
    <div class="row">
        <h1>Yazoo
        <small><a href="/images?q={{data.q}}" title="Images">ðŸ‘€</a></small>
        <small><a href="/videos?q={{data.q}}" title="Video">ðŸŽ¦</a></small>
        <small><a href="/stats" title="stats">ðŸ“Š</a></small>
        <small><a href="/status" title="status">ðŸš©</a></small>
        <small><a href="/api" title="API endpoints" class="float-end">API</a></small>

        </h1>
    </div>
    <div class="row">
        <div class="col-12">
            <form action="" method="get">
                <input type="search" class="form-control" name="q" id="q" autocomplete=off autofocus value="{{ data.q }}" placeholder="provider:bandcamp status:200">
            </form>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-12">
        {% for r in data.results %}
            <div class="result">
                <h4>
                    {% if r.provider %}
                        [{{r.provider}}]
                    {% endif %}
                    <a href="{{ r.url }}">{{ r.title|default('no title') }}</a>
                </h4>
        <!--HTTP STATUS -->
        {% if r.status >=400 %}
          <span class="badge bg-danger">
        {% elseif r.status >=300 %}
          <span class="badge bg-success">
        {% elseif r.status >=200 %}
          <span class="badge bg-success">
        {% else %}
          <span class="badge bg-dark">
        {% endif %}
        {{ r.status }}</span>

         <i class="text-muted">{{ r.url }}</i> <br />
                {% if r.description %}
                    {{ r.description }}
                {% else %}
                    {{ r.mimetype }}
                {% endif %}
                <br />
                <a href="/link/{{ r.id }}">#{{ r.id }}</a>
            </div>
        {% endfor %}
        </div>
        <hr>

        {% include 'search/pagination.html.twig' with {'data': data} %}

    </div>


</div>
{% endblock %}
